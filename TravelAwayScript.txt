USE [master]
GO

Create database TravelAwayDB
GO

Use [TravelAwayDB]
GO

Create table Customer(
[CustomerID] INTEGER CONSTRAINT Pk_CustomerID PRIMARY KEY IDENTITY(1000,1),
[FirstName] Varchar(20) NOT NULL,
[LastName] Varchar(20) NOT NULL,
[EmailID] VARCHAR(20) CONSTRAINT uk_EmailID UNIQUE NOT NULL,
[PassWord] VARCHAR(20) NOT NULL,
[Gender] VARCHAR(10) NOT NULL,
CONSTRAINT chk_Gender CHECK(Gender in('MALE','FEMALE')),
[ContactNumber] NUMERIC(10) CONSTRAINT uk_ContactNo UNIQUE NOT NULL,
[DateOfBirth] DATE CONSTRAINT chk_DateOfBirth CHECK(DateOfBirth<GETDATE()) NOT NULL,
[Address] VARCHAR(200) NOT NULL)
GO


Create table Employee(
[EmployeeID] INTEGER CONSTRAINT pk_EmployeeID PRIMARY KEY IDENTITY(100,1),
[EmailID] VARCHAR(20) UNIQUE NOT NULL,
[Password] VARCHAR(20) NOT NULL)
GO

Create table PackageCategory(
[CategoryID] TINYINT CONSTRAINT pk_CategoryID PRIMARY KEY IDENTITY,
[CategoryName] VARCHAR(20) NOT NULL)
GO

Create table Packages(
[PackageID] TINYINT CONSTRAINT pk_PackageID PRIMARY KEY IDENTITY,
[CategoryID] TINYINT CONSTRAINT fk_PackageCategoryID REFERENCES PackageCategory(CategoryID) NOT NULL,
[PackageName] VARCHAR(20) NOT NULL,
[PackageDescription] VARCHAR(100) NOT NULL
)
GO

Create table PackageDetails(
[PackageDetailID] TINYINT CONSTRAINT pk_PackageDetailsID PRIMARY KEY IDENTITY,
[PackageID] TINYINT CONSTRAINT fk_PackID REFERENCES Packages(PackageID) NOT NULL,
[Places] VARCHAR(100) NOT NULL,
[Description] VARCHAR(500) NOT NULL,
[Days] TINYINT NOT NULL,
[Nights] TINYINT NOT NULL,
[Price] NUMERIC(7) NOT NULL,
[Accomodations] VARCHAR(15) NOT NULL
)
GO